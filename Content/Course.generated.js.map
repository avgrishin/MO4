{"version":3,"file":"Course.jsx","sourceRoot":null,"sources":["Course.jsx"],"sourcesContent":["var Course = React.createClass({\r\n  render: function() {\r\n    return (\r\n      <tr>\r\n        <td>{this.props.data.dt.substr(0, 10).replace(/(\\d+)-(\\d+)-(\\d+)/, '$3.$2.$1')}</td>\r\n        <td>{this.props.data.s}</td>\r\n        <td className=\"ta-r\">{this.props.data.c.toFixed(4)}</td>\r\n        <td className=\"ta-r\" style={{color: this.props.data.y < 0 ? 'red' : 'green'}}>{this.props.data.y.toFixed(4)}</td>\r\n      </tr>\r\n    );\r\n}\r\n});\r\n\r\nvar CourseList = React.createClass({\r\n  render: function() {\r\n    return (\r\n      <table className=\"fp-currency\" style={{width: 300}}><tbody>\r\n        {this.props.data.map(function(result) {\r\n          return (\r\n            <Course key={result.s} data={result} />\r\n          );\r\n        })}\r\n      </tbody></table>\r\n    );\r\n  }\r\n});\r\n\r\nvar CourseBox = React.createClass({\r\n  getInitialState: function() {\r\n    return {data: this.props.initialData};\r\n  },\r\n  loadCoursesFromServer: function() {\r\n    $.ajax({\r\n      url: this.props.url,\r\n      dataType: 'json',\r\n      cache: false,\r\n      success: function(data) {\r\n        this.setState({data: data});\r\n      }.bind(this),\r\n      error: function(xhr, status, err) {\r\n        console.error(this.props.url, status, err.toString());\r\n      }.bind(this)\r\n    });\r\n  },\r\n  componentDidMount: function() {\r\n    setInterval(this.loadCoursesFromServer, this.props.pollInterval);\r\n  },\r\n  render: function() {\r\n    return (\r\n      <div>\r\n        <h2>Курсы валют ЦБ РФ</h2>\r\n        <CourseList data={this.state.data} />\r\n      </div>\r\n    );\r\n  }\r\n});\r\n"],"names":[],"mappings":";;;;;AAAA,IAAI,MAAM,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC7B,QAAM,EAAE,kBAAW;AACjB,WACE;;;MACE;;;QAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,mBAAmB,EAAE,UAAU,CAAC;OAAM;MACpF;;;QAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;OAAM;MAC5B;;UAAI,SAAS,EAAC,MAAM;QAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;OAAM;MACxD;;UAAI,SAAS,EAAC,MAAM,EAAC,KAAK,EAAE,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,GAAG,OAAO,EAAC,AAAC;QAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;OAAM;KAC9G,CACL;GACL;CACA,CAAC,CAAC;;AAEH,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,QAAM,EAAE,kBAAW;AACjB,WACE;;QAAO,SAAS,EAAC,aAAa,EAAC,KAAK,EAAE,EAAC,KAAK,EAAE,GAAG,EAAC,AAAC;MAAC;;;QACjD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,UAAS,MAAM,EAAE;AACpC,iBACE,oBAAC,MAAM,IAAC,GAAG,EAAE,MAAM,CAAC,CAAC,AAAC,EAAC,IAAI,EAAE,MAAM,AAAC,GAAG,CACvC;SACH,CAAC;OACI;KAAQ,CAChB;GACH;CACF,CAAC,CAAC;;AAEH,IAAI,SAAS,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAChC,iBAAe,EAAE,2BAAW;AAC1B,WAAO,EAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,EAAC,CAAC;GACvC;AACD,uBAAqB,EAAE,iCAAW;AAChC,KAAC,CAAC,IAAI,CAAC;AACL,SAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG;AACnB,cAAQ,EAAE,MAAM;AAChB,WAAK,EAAE,KAAK;AACZ,aAAO,EAAE,CAAA,UAAS,IAAI,EAAE;AACtB,YAAI,CAAC,QAAQ,CAAC,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;OAC7B,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC;AACZ,WAAK,EAAE,CAAA,UAAS,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE;AAChC,eAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;OACvD,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC;KACb,CAAC,CAAC;GACJ;AACD,mBAAiB,EAAE,6BAAW;AAC5B,eAAW,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;GAClE;AACD,QAAM,EAAE,kBAAW;AACjB,WACE;;;MACE;;;;OAA0B;MAC1B,oBAAC,UAAU,IAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,AAAC,GAAG;KACjC,CACN;GACH;CACF,CAAC,CAAC"}