// @hash v3-50B3B44DD334AA7DDB46F5F89CA2D3E3476CF298
// Automatically generated by ReactJS.NET. Do not edit, your changes will be overridden.
// Version: 2.2.1 (build 5682fd4) with Babel 6.3.13
// Generated at: 14.04.2016 17:29:26
///////////////////////////////////////////////////////////////////////////////
var Rate = React.createClass({
  displayName: "Rate",

  render: function render() {
    return React.createElement(
      "tr",
      null,
      React.createElement(
        "td",
        null,
        this.props.data.sec
      ),
      React.createElement(
        "td",
        { className: "ta-r" },
        this.props.data.cl
      ),
      React.createElement(
        "td",
        { className: "ta-r", style: { color: this.props.data.chg < 0 ? 'red' : 'green' } },
        this.props.data.chg.toFixed(2)
      ),
      React.createElement(
        "td",
        null,
        this.props.data.tm
      )
    );
  }
});

var RateList = React.createClass({
  displayName: "RateList",

  render: function render() {
    return React.createElement(
      "table",
      { className: "fp-currency", style: { width: 300 } },
      React.createElement(
        "tbody",
        null,
        this.props.data.map(function (result) {
          return React.createElement(Rate, { key: result.sec, data: result });
        })
      )
    );
  }
});

var RateBox = React.createClass({
  displayName: "RateBox",

  getInitialState: function getInitialState() {
    return { data: this.props.initialData };
  },
  loadRatesFromServer: function loadRatesFromServer() {
    $.ajax({
      url: this.props.url,
      dataType: 'json',
      cache: false,
      success: (function (data) {
        this.setState({ data: data });
      }).bind(this),
      error: (function (xhr, status, err) {
        console.error(this.props.url, status, err.toString());
      }).bind(this)
    });
  },
  componentDidMount: function componentDidMount() {
    setInterval(this.loadRatesFromServer, this.props.pollInterval);
  },
  render: function render() {
    return React.createElement(
      "div",
      null,
      React.createElement(
        "h2",
        null,
        "Курсы MOEX"
      ),
      React.createElement(RateList, { data: this.state.data })
    );
  }
});